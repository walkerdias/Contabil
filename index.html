<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Caderno - Controle de Vendas e Impostos</title>
    
    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    
    <!-- FontAwesome -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    
    <!-- Google Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">

    <script>
        // Ocultando o script de configuração para evitar o aviso do CDN, embora o aviso do navegador permaneça.
        // A estética já está definida pelas classes do Tailwind.
        
        // Configuração para uso de cor da marca
        tailwind.config = {
            theme: {
                extend: {
                    fontFamily: {
                        sans: ['Inter', 'sans-serif'],
                    },
                    colors: {
                        brand: {
                            50: '#f0f9ff',
                            100: '#e0f2fe',
                            500: '#0ea5e9',
                            600: '#0284c7',
                            700: '#0369a1',
                            900: '#0c4a6e',
                        }
                    }
                }
            }
        }
    </script>
    
    <style>
        body { font-family: 'Inter', sans-serif; }
        .tab-content { display: none; }
        .tab-content.active { display: block; }
        
        /* Animações de Toast */
        @keyframes slideIn {
            from { transform: translateX(100%); opacity: 0; }
            to { transform: translateX(0); opacity: 1; }
        }
        @keyframes slideOut {
            from { transform: translateX(0); opacity: 1; }
            to { transform: translateX(100%); opacity: 0; }
        }
        .mensagem-flutuante { animation: slideIn 0.3s ease; }
        
        /* Oculta scrollbar mas permite scroll */
        .no-scrollbar::-webkit-scrollbar {
            display: none;
        }
        .no-scrollbar {
            -ms-overflow-style: none;  /* IE and Edge */
            scrollbar-width: none;  /* Firefox */
        }
		/* Estilos para validação de CNPJ */
		.cnpj-valid {
			border-color: #10b981 !important;
			background-color: #f0fdf4 !important;
		}

		.cnpj-invalid {
			border-color: #ef4444 !important;
			background-color: #fef2f2 !important;
		}

		.cnpj-exists {
			border-color: #f59e0b !important;
			background-color: #fffbeb !important;
		}
		
		/* Estilos para o modal com HTML */
		#modalMessage ul {
			margin-top: 0.5rem;
			margin-bottom: 0.5rem;
		}

		#modalMessage li {
			margin-left: 1rem;
		}

		#modalMessage .text-left {
			text-align: left;
		}
		
		/* Estilos para Relatórios */
		#conteudoRelatorio table th {
			background-color: #f9fafb;
			font-weight: 600;
			text-transform: uppercase;
			letter-spacing: 0.05em;
		}

		#conteudoRelatorio table tr:hover {
			background-color: #f9fafb;
		}

		#conteudoRelatorio table tfoot {
			background-color: #f3f4f6;
			font-weight: 600;
		}

		/* Estilos para cards de estatísticas */
		.bg-blue-50 { background-color: #eff6ff; }
		.bg-green-50 { background-color: #f0fdf4; }
		.bg-purple-50 { background-color: #faf5ff; }
		.bg-orange-50 { background-color: #fff7ed; }

		/* Animações para transição de conteúdo */
		#conteudoRelatorio {
			transition: all 0.3s ease;
		}

		/* Estilos para gráficos */
		#graficoRelatorio {
			min-height: 300px;
			background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
			border-radius: 0.5rem;
		}
		
		/* Estilos para navegação fixa */
		.sticky {
			position: -webkit-sticky;
			position: sticky;
		}
		
		.sticky.top-20 {
			backdrop-filter: blur(10px);
			background-color: rgba(255, 255, 255, 0.95);
			box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06);
		}

		/* Ajustar o z-index para garantir que a navegação fique acima do conteúdo */
		.z-30 {
			z-index: 30;
		}

		/* Ajustar margem do main para compensar a altura fixa */
		main {
			padding-top: 1rem;
			margin-top: 1.5rem;
		}

		/* Ajustar espaçamento quando a navegação está fixa */
		@media (max-width: 768px) {
			.sticky.top-20 {
				top: 4rem; /* Ajuste para mobile */
			}
		}

		/* Melhorar a aparência dos botões de navegação */
		.tab-button {
			transition: all 0.2s ease;
			border: 2px solid transparent;
		}
		
		.tab-button:hover {
			transform: translateY(-1px);
		}

		.tab-button.active {
			border-color: #0ea5e9;
			box-shadow: 0 4px 6px -1px rgba(14, 165, 233, 0.2);
		}

		/* Estilo para indicar aba ativa de forma mais clara */
		.tab-button.active {
			box-shadow: 0 2px 4px rgba(14, 165, 233, 0.1);
			font-weight: 600;
		}
    </style>
</head>
<body class="bg-gray-50 text-gray-800 min-h-screen pb-12">

   	<!-- Header -->
	<header class="bg-brand-900 text-white shadow-lg sticky top-0 z-40">
		<div class="container mx-auto px-4 py-4 flex justify-between items-center">
			<div>
				<h1 class="text-xl md:text-2xl font-bold flex items-center gap-3">
					<i class="fas fa-book-open"></i> Caderno Contábil
				</h1>
				<p class="text-brand-100 text-sm hidden md:block mt-1">Gestão fiscal e tributária simplificada</p>
			</div>
			<div id="offlineStatus" class="bg-white/10 backdrop-blur-sm px-3 py-1 rounded-full text-xs font-medium flex items-center gap-2">
				<i class="fas fa-wifi"></i> <span>Online</span>
			</div>
		</div>
	</header>

	<main class="container mx-auto px-4 mt-6">
		
		<!-- Navegação Principal (Tabs) - FIXA NO TOPO -->
		<nav class="bg-white rounded-xl shadow-sm border border-gray-200 p-1 mb-6 flex overflow-x-auto gap-1 no-scrollbar sticky top-20 z-30">
			<button onclick="switchTab('faturamento')" class="tab-button active flex-1 min-w-[120px] py-3 px-4 rounded-lg text-sm font-medium transition-all text-brand-700 bg-brand-50 border border-brand-100" data-tab="faturamento">
				<i class="fas fa-chart-line mr-2"></i> Faturamento
			</button>
			<button onclick="switchTab('calculo')" class="tab-button flex-1 min-w-[120px] py-3 px-4 rounded-lg text-sm font-medium text-gray-600 hover:bg-gray-50 transition-all" data-tab="calculo">
				<i class="fas fa-calculator mr-2"></i> Cálculo
			</button>
			<button onclick="switchTab('cliente')" class="tab-button flex-1 min-w-[120px] py-3 px-4 rounded-lg text-sm font-medium text-gray-600 hover:bg-gray-50 transition-all" data-tab="cliente">
				<i class="fas fa-user-tie mr-2"></i> Clientes
			</button>
			<button onclick="switchTab('situacao')" class="tab-button flex-1 min-w-[120px] py-3 px-4 rounded-lg text-sm font-medium text-gray-600 hover:bg-gray-50 transition-all" data-tab="situacao">
				<i class="fas fa-building mr-2"></i> Situações
			</button>
			<button onclick="switchTab('relatorio')" class="tab-button flex-1 min-w-[120px] py-3 px-4 rounded-lg text-sm font-medium text-gray-600 hover:bg-gray-50 transition-all" data-tab="relatorio">
				<i class="fas fa-file-chart-line mr-2"></i> Relatórios
			</button>
			<button onclick="switchTab('parametrizacao')" class="tab-button flex-1 min-w-[120px] py-3 px-4 rounded-lg text-sm font-medium text-gray-600 hover:bg-gray-50 transition-all" data-tab="parametrizacao">
				<i class="fas fa-cogs mr-2"></i> Parâmetros
			</button>
		</nav>

		<!-- ABA: FATURAMENTO -->
		<div id="faturamentoTab" class="tab-content active">
			<div class="max-w-4xl mx-auto bg-white rounded-xl shadow-sm border border-gray-200 p-6">
				<h2 class="text-xl font-bold text-gray-800 mb-6 flex items-center gap-2">
					<i class="fas fa-chart-line text-green-600"></i> Registrar Faturamento Mensal
				</h2>
				
				<form id="faturamentoForm" class="grid grid-cols-1 md:grid-cols-3 gap-6 mb-8">
					<div class="md:col-span-1">
						<label class="block text-xs font-medium text-gray-700 mb-1">Empresa</label>
						<select id="cnpjFaturamento" class="w-full border border-gray-300 rounded-lg p-2.5 text-sm" required>
							<option value="">Selecione...</option>
						</select>
					</div>
					<div>
						<label class="block text-xs font-medium text-gray-700 mb-1">Mês de Referência</label>
						<input type="month" id="mesFaturamento" class="w-full border border-gray-300 rounded-lg p-2.5 text-sm" required>
					</div>
					<div>
						<label class="block text-xs font-medium text-gray-700 mb-1">Valor Total (R$)</label>
						<input type="number" id="valorFaturamento" step="0.01" min="0" class="w-full border border-gray-300 rounded-lg p-2.5 text-sm font-bold text-green-700" placeholder="0,00" required>
					</div>
					<div id="valoresAnexoContainer" class="md:col-span-3 space-y-3 hidden">
					  <div class="valor-anexo-item flex items-end gap-3 p-3 bg-emerald-50 rounded-lg border border-emerald-200">
						<select class="flex-1 border border-emerald-200 rounded-lg p-2.5 text-sm bg-white">
						  <option value="">Anexo</option>
						  <option value="I">Anexo I</option>
						  <option value="II">Anexo II</option>
						  <option value="III">Anexo III</option>
						  <option value="IV">Anexo IV</option>
						  <option value="V">Anexo V</option>
						</select>
						<input type="number" step="0.01" min="0" class="flex-1 border border-emerald-200 rounded-lg p-2.5 text-sm font-medium text-emerald-800" placeholder="R$ 0,00">
						<button type="button" class="text-red-500 hover:text-red-700 p-2">
						  <i class="fas fa-trash-alt"></i>
						</button>
					  </div>
					</div>
					<button type="button" id="addValorAnexo" class="text-emerald-600 hover:text-emerald-800 text-sm font-medium flex items-center gap-1">
					  <i class="fas fa-plus"></i> Detalhar por Anexo </button>		
					<div class="md:col-span-3">
					  <label class="block text-xs font-medium text-gray-700 mb-1">Massa Salarial (Anexo V)</label>
					  <input type="number" id="massaSalarial" step="0.01" min="0" 
							 class="w-full border border-purple-200 rounded-lg p-2.5 text-sm font-medium text-purple-700 placeholder-gray-400 bg-purple-50" 
							 placeholder="R$ 0,00 (folha + pró-labore + encargos)">
					  <p class="text-xs text-purple-600 mt-1">Preencher apenas para empresas Anexo V</p>
					</div>
					<div class="md:col-span-3 flex justify-end gap-3">
						<button type="button" id="limparFaturamento" class="px-4 py-2 text-gray-500 hover:text-gray-700">Limpar</button>
						<button type="submit" class="bg-green-600 hover:bg-green-700 text-white px-6 py-2 rounded-lg font-medium shadow-sm">
							<i class="fas fa-save mr-2"></i> Salvar Faturamento</button>
					</div>
				</form>

				<!-- Gráfico de Faturamento -->
<!--				<div class="border-t pt-6 mb-8">
					<h3 class="font-bold text-gray-700 mb-4">Visão Geral do Faturamento</h3>
					<div id="graficoFaturamento" class="h-48 bg-gray-50 rounded-lg border border-gray-200 flex items-center justify-center">
						<div class="text-center text-gray-400">
							<i class="fas fa-chart-bar text-2xl mb-2"></i>
							<p class="text-sm">Gráfico será gerado após cadastro de dados</p>
						</div>
					</div>
				</div> -->

				<div class="border-t pt-6">
					<div class="flex justify-between items-center mb-4">
						<h3 class="font-bold text-gray-700">Registros Recentes</h3>
						<div class="flex gap-2">
							<select id="filtroPeriodoFaturamento" class="border border-gray-300 rounded-lg text-sm p-1.5">
								<option value="3">Últimos 3 meses</option>
								<option value="6">Últimos 6 meses</option>
								<option value="12">Últimos 12 meses</option>
								<option value="todos">Todos</option>
							</select>
							<button id="atualizarFaturamento" class="text-brand-600 hover:bg-brand-50 p-1.5 rounded">
								<i class="fas fa-sync-alt"></i>
							</button>
						</div>
					</div>
					<div id="listaFaturamento" class="space-y-3">
						<!-- Cards de Faturamento -->
						<div class="text-center py-8 text-gray-400">Nenhum registro de faturamento encontrado.</div>
					</div>
				</div>
			</div>
		</div>

        <!-- ABA: CADASTRO CLIENTE -->
        <div id="clienteTab" class="tab-content">
            <div class="grid grid-cols-1 lg:grid-cols-3 gap-6">
                <!-- Formulário -->
                <div class="lg:col-span-1">
                    <div class="bg-white p-6 rounded-xl shadow-sm border border-gray-200">
                        <h2 class="text-lg font-bold text-gray-800 mb-4 flex items-center gap-2 border-b pb-2">
                            <i class="fas fa-plus-circle text-brand-600"></i> Novo Cliente
                        </h2>
                        <form id="clienteForm" class="space-y-4">
                            <div>
                                <label class="block text-xs font-medium text-gray-700 mb-1">CNPJ</label>
                                <input type="text" id="cnpj" class="w-full border border-gray-300 rounded-lg p-2.5 text-sm focus:ring-2 focus:ring-brand-500 focus:border-brand-500" placeholder="00.000.000/0000-00" required>
                                <div id="cnpjStatus"></div>
                            </div>
                            <div class="grid grid-cols-2 gap-3">
                                <div>
                                    <label class="block text-xs font-medium text-gray-700 mb-1">IE</label>
                                    <input type="text" id="ie" class="w-full border border-gray-300 rounded-lg p-2.5 text-sm" placeholder="Insc. Est.">
                                </div>
                                <div>
                                    <label class="block text-xs font-medium text-gray-700 mb-1">IM</label>
                                    <input type="text" id="im" class="w-full border border-gray-300 rounded-lg p-2.5 text-sm" placeholder="Insc. Mun.">
                                </div>
                            </div>
                            <div>
                                <label class="block text-xs font-medium text-gray-700 mb-1">Razão Social</label>
                                <input type="text" id="razaoSocial" class="w-full border border-gray-300 rounded-lg p-2.5 text-sm" required>
                            </div>
                            <div>
                                <label class="block text-xs font-medium text-gray-700 mb-1">Nome Fantasia</label>
                                <input type="text" id="nomeFantasia" class="w-full border border-gray-300 rounded-lg p-2.5 text-sm" required>
                            </div>
                            <div>
                                <label class="block text-xs font-medium text-gray-700 mb-1">Data de Abertura</label>
                                <input type="date" id="dataAbertura" class="w-full border border-gray-300 rounded-lg p-2.5 text-sm" required>
                            </div>
                            <div class="flex gap-2 pt-2">
                                <button type="submit" class="flex-1 bg-brand-600 hover:bg-brand-700 text-white py-2 rounded-lg font-medium transition shadow-sm">Salvar</button>
                                <button type="button" id="limparCliente" class="px-4 py-2 bg-gray-100 hover:bg-gray-200 text-gray-600 rounded-lg font-medium transition"><i class="fas fa-broom"></i></button>
                            </div>
                        </form>
                    </div>
                </div>
                
                <!-- Lista -->
                <div class="lg:col-span-2">
                    <div class="bg-white rounded-xl shadow-sm border border-gray-200 overflow-hidden">
                        <div class="p-4 border-b bg-gray-50 flex justify-between items-center">
                            <h3 class="font-bold text-gray-700">Clientes Cadastrados</h3>
                            <span class="text-xs text-gray-500 bg-white px-2 py-1 rounded border" id="totalClientesBadge">0</span>
                        </div>
                        <div id="listaClientes" class="divide-y divide-gray-100 max-h-[600px] overflow-y-auto p-4 space-y-3">
                            <!-- Preenchido via JS -->
                            <div class="text-center py-10 text-gray-400">Nenhum cliente cadastrado.</div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- ABA: SITUAÇÃO EMPRESA (CORE FEATURE) -->
        <div id="situacaoTab" class="tab-content">
            <div class="grid grid-cols-1 lg:grid-cols-3 gap-6">
                <!-- Formulário Situação -->
                <div class="lg:col-span-1">
                    <div class="bg-white p-6 rounded-xl shadow-sm border border-gray-200 sticky top-24">
                        <h2 class="text-lg font-bold text-gray-800 mb-4 flex items-center gap-2 border-b pb-2" id="tituloSituacao">
                            <i class="fas fa-file-contract text-orange-500"></i> Registrar Situação
                        </h2>
                        
                        <form id="situacaoForm" class="space-y-4">
                            <input type="hidden" id="situacaoId">
                            
                            <div>
                                <label class="block text-xs font-medium text-gray-700 mb-1">Empresa</label>
                                <select id="cnpjEmpresa" class="w-full border border-gray-300 rounded-lg p-2.5 text-sm bg-white" required>
                                    <option value="">Selecione...</option>
                                </select>
                            </div>
                            
                            <div>
                                <label class="block text-xs font-medium text-gray-700 mb-1">Data da Situação</label>
                                <input type="date" id="dataSituacao" class="w-full border border-gray-300 rounded-lg p-2.5 text-sm" required>
                                <div id="dataSituacaoFeedback" class="text-xs mt-1"></div>
                            </div>

                            <div>
                                <label class="block text-xs font-medium text-gray-700 mb-1">Regime Tributário</label>
                                <select id="tributacao" class="w-full border border-gray-300 rounded-lg p-2.5 text-sm bg-white" required>
                                    <option value="">Selecione...</option>
                                    <option value="simples">Simples Nacional</option>
                                    <option value="presumido">Lucro Presumido</option>
                                    <option value="real">Lucro Real</option>
                                </select>
                            </div>

                            <!-- Campos Simples Nacional -->
							<div id="anexosContainer" class="space-y-3">
							  <div class="anexo-item flex items-end gap-3 p-3 bg-gray-100 rounded-lg">
								<select class="flex-1 border border-blue-200 rounded-lg p-2.5 text-sm bg-white" required>
								  <option value="">Selecione Anexo</option>
								  <option value="I">Anexo I - Comércio</option>
								  <option value="II">Anexo II - Indústria</option>
								  <option value="III">Anexo III - Serviços</option>
								  <option value="IV">Anexo IV - Serviços</option>
								  <option value="V">Anexo V - Serviços</option>
								</select>
								<input type="text" class="flex-1 border border-blue-200 rounded-lg p-2.5 text-sm" placeholder="Atividades">
								<button type="button" class="text-red-500 hover:text-red-700 p-2">
								  <i class="fas fa-trash-alt"></i>
								</button>
							  </div>
							</div>
							<button type="button" id="addAnexo" class="text-blue-600 hover:text-blue-800 text-sm font-medium flex items-center gap-1 mt-2">
							  <i class="fas fa-plus"></i> Adicionar Anexo
							</button>

                            <div>
                                <label class="block text-xs font-medium text-gray-700 mb-1">Endereço Completo</label>
                                <textarea id="endereco" rows="3" class="w-full border border-gray-300 rounded-lg p-2.5 text-sm" required></textarea>
                            </div>

                            <div class="flex gap-2 pt-2">
                                <button type="submit" class="flex-1 bg-orange-600 hover:bg-orange-700 text-white py-2 rounded-lg font-medium transition shadow-sm btn-submit">Registrar</button>
                                <button type="button" id="limparSituacao" class="px-4 py-2 bg-gray-100 hover:bg-gray-200 text-gray-600 rounded-lg font-medium transition"><i class="fas fa-broom"></i></button>
                            </div>
                        </form>
                    </div>
                </div>

                <!-- Histórico Situações -->
                <div class="lg:col-span-2">
                    <div class="bg-white rounded-xl shadow-sm border border-gray-200 overflow-hidden">
                        <div class="p-4 border-b bg-gray-50 flex justify-between items-center">
                            <h3 class="font-bold text-gray-700">Histórico de Situações</h3>
                            <div class="flex gap-2">
                                <span class="text-xs text-gray-500 bg-white px-2 py-1 rounded border">Por Data Desc.</span>
                            </div>
                        </div>
                        <div id="listaSituacoes" class="p-4 space-y-4 max-h-[700px] overflow-y-auto bg-gray-50/50">
                            <!-- Preenchido via JS -->
                        </div>
                    </div>
                </div>
            </div>
        </div>        

        <!-- ABA: CÁLCULO -->
        <div id="calculoTab" class="tab-content">
            <div class="max-w-4xl mx-auto">
                <div class="bg-white rounded-xl shadow-sm border border-gray-200 p-6 mb-6">
                    <h2 class="text-xl font-bold text-gray-800 mb-6"><i class="fas fa-calculator text-purple-600"></i> Simulação de Impostos</h2>
                    <div class="flex flex-col md:flex-row gap-4 items-end">
                        <div class="flex-1 w-full">
                            <label class="block text-xs font-medium text-gray-700 mb-1">Empresa</label>
                            <select id="cnpjCalculo" class="w-full border border-gray-300 rounded-lg p-2.5 text-sm"></select>
                        </div>
                        <div class="flex-1 w-full">
                            <label class="block text-xs font-medium text-gray-700 mb-1">Mês de Referência</label>
                            <input type="month" id="mesCalculo" class="w-full border border-gray-300 rounded-lg p-2.5 text-sm">
                        </div>
                        <button id="calcularImpostos" class="bg-purple-600 hover:bg-purple-700 text-white px-6 py-2.5 rounded-lg font-medium shadow-sm w-full md:w-auto">
                            Calcular
                        </button>
                    </div>
                </div>

                <div id="resultadoCalculo" class="bg-white rounded-xl shadow-lg border border-purple-200 p-8 hidden">
                    <!-- Resultados injetados aqui -->
                </div>
            </div>
        </div>

		<!-- ABA: RELATÓRIOS -->
		<div id="relatorioTab" class="tab-content">
			<div class="bg-white rounded-xl shadow-sm border border-gray-200 p-6">
				<!-- Cabeçalho -->
				<div class="flex flex-col md:flex-row justify-between items-start md:items-center mb-8 gap-4">
					<div>
						<h2 class="text-xl font-bold text-gray-800 flex items-center gap-2">
							<i class="fas fa-chart-line text-brand-600"></i> Relatórios Analíticos
						</h2>
						<p class="text-sm text-gray-600 mt-1">Gere relatórios personalizados para análise</p>
					</div>
					
					<div class="flex flex-wrap gap-2">
						<button id="exportarRelatorio" class="bg-brand-600 hover:bg-brand-700 text-white px-4 py-2 rounded-lg text-sm font-medium transition flex items-center gap-2">
							<i class="fas fa-file-export"></i> Exportar PDF
						</button>
						<button id="exportarExcel" class="bg-green-600 hover:bg-green-700 text-white px-4 py-2 rounded-lg text-sm font-medium transition flex items-center gap-2">
							<i class="fas fa-file-excel"></i> Exportar Excel
						</button>
					</div>
				</div>

				<!-- Filtros -->
				<div class="bg-gray-50 p-6 rounded-xl border border-gray-200 mb-8">
					<h3 class="font-bold text-gray-700 mb-4">Filtros do Relatório</h3>
					
					<div class="grid grid-cols-1 md:grid-cols-3 gap-6">
						<!-- Tipo de Relatório -->
						<div>
							<label class="block text-xs font-bold text-gray-700 mb-1">Tipo de Relatório</label>
							<select id="tipoRelatorio" class="w-full border border-gray-300 rounded-lg p-2.5 text-sm bg-white">
								<option value="situacoes">Clientes com Situação Tributária</option>
								<option value="faturamento">Relatório de Faturamento</option>
								<option value="impostos">Cálculos de Impostos</option>
								<option value="clientes">Lista Completa de Clientes</option>
							</select>
						</div>
						
						<!-- Período -->
						<div>
							<label class="block text-xs font-bold text-gray-700 mb-1">Período</label>
							<select id="periodoRelatorio" class="w-full border border-gray-300 rounded-lg p-2.5 text-sm bg-white">
								<option value="personalizado">Personalizado</option>
								<option value="ultimo_mes">Último Mês</option>
								<option value="ultimos_3_meses">Últimos 3 Meses</option>
								<option value="ultimos_6_meses">Últimos 6 Meses</option>
								<option value="ultimos_12_meses">Últimos 12 Meses</option>
								<option value="ano_atual">Ano Atual</option>
								<option value="ano_anterior">Ano Anterior</option>
							</select>
						</div>
						
						<!-- Empresa (para vendas) -->
						<div>
							<label class="block text-xs font-bold text-gray-700 mb-1">Empresa</label>
							<select id="empresaRelatorio" class="w-full border border-gray-300 rounded-lg p-2.5 text-sm bg-white">
								<option value="todas">Todas as Empresas</option>
							</select>
						</div>
					</div>
					
					<!-- Filtros Avançados (mostrados dinamicamente) -->
					<div id="filtrosAvancados" class="mt-6 grid grid-cols-1 md:grid-cols-2 gap-6 hidden">
						<!-- Para período personalizado -->
						<div id="periodoPersonalizado" class="space-y-2">
							<label class="block text-xs font-bold text-gray-700 mb-1">Período Personalizado</label>
							<div class="grid grid-cols-2 gap-3">
								<div>
									<label class="block text-xs text-gray-600 mb-1">Data Inicial</label>
									<input type="month" id="dataInicial" class="w-full border border-gray-300 rounded-lg p-2 text-sm">
								</div>
								<div>
									<label class="block text-xs text-gray-600 mb-1">Data Final</label>
									<input type="month" id="dataFinal" class="w-full border border-gray-300 rounded-lg p-2 text-sm">
								</div>
							</div>
						</div>
						
						<!-- Para relatório de vendas -->
						<div id="filtroVendas" class="hidden">
							<label class="block text-xs font-bold text-gray-700 mb-1">Filtro de Vendas</label>
							<select id="agrupamentoVendas" class="w-full border border-gray-300 rounded-lg p-2 text-sm">
								<option value="mensal">Mensal</option>
								<option value="trimestral">Trimestral</option>
								<option value="semestral">Semestral</option>
								<option value="anual">Anual</option>
							</select>
						</div>
						
						<!-- Para relatório de situação -->
						<div id="filtroSituacao" class="hidden">
							<label class="block text-xs font-bold text-gray-700 mb-1">Regime Tributário</label>
							<select id="regimeSituacao" class="w-full border border-gray-300 rounded-lg p-2 text-sm">
								<option value="todos">Todos os Regimes</option>
								<option value="simples">Simples Nacional</option>
								<option value="presumido">Lucro Presumido</option>
								<option value="real">Lucro Real</option>
							</select>
						</div>
					</div>
					
					<div class="mt-6 flex justify-end">
						<button id="gerarRelatorio" class="bg-brand-600 hover:bg-brand-700 text-white px-6 py-2.5 rounded-lg font-medium shadow-sm flex items-center gap-2">
							<i class="fas fa-play"></i> Gerar Relatório
						</button>
					</div>
				</div>

				<!-- Resultados -->
				<div class="bg-white rounded-xl border border-gray-200">
					<div class="p-4 border-b bg-gray-50 flex justify-between items-center">
						<h3 class="font-bold text-gray-700">Resultado do Relatório</h3>
						<div class="flex items-center gap-2">
							<span id="totalRegistros" class="text-xs bg-brand-100 text-brand-800 px-3 py-1 rounded-full">0 registros</span>
							<span id="periodoAtual" class="text-xs text-gray-500"></span>
						</div>
					</div>
					
					<!-- Resumo Estatístico -->
					<div id="resumoEstatistico" class="p-6 border-b hidden">
						<h4 class="font-bold text-gray-700 mb-4">Resumo Estatístico</h4>
						<div class="grid grid-cols-1 md:grid-cols-4 gap-4">
							<div class="bg-blue-50 p-4 rounded-lg border border-blue-100">
								<p class="text-sm text-blue-700 font-medium">Total de Vendas</p>
								<p id="totalVendas" class="text-2xl font-bold text-blue-800">R$ 0,00</p>
							</div>
							<div class="bg-green-50 p-4 rounded-lg border border-green-100">
								<p class="text-sm text-green-700 font-medium">Média Mensal</p>
								<p id="mediaVendas" class="text-2xl font-bold text-green-800">R$ 0,00</p>
							</div>
							<div class="bg-purple-50 p-4 rounded-lg border border-purple-100">
								<p class="text-sm text-purple-700 font-medium">Maior Venda</p>
								<p id="maiorVenda" class="text-2xl font-bold text-purple-800">R$ 0,00</p>
							</div>
							<div class="bg-orange-50 p-4 rounded-lg border border-orange-100">
								<p class="text-sm text-orange-700 font-medium">Crescimento</p>
								<p id="crescimento" class="text-2xl font-bold text-orange-800">0%</p>
							</div>
						</div>
					</div>
					
					<!-- Conteúdo do Relatório -->
					<div id="conteudoRelatorio" class="p-6">
						<div class="text-center py-10 text-gray-400">
							<i class="fas fa-chart-bar text-4xl mb-3"></i>
							<p>Selecione os filtros e clique em "Gerar Relatório"</p>
							<p class="text-sm mt-1">Os dados serão exibidos aqui</p>
						</div>
					</div>
					
					<!-- Gráficos (opcional) -->
					<div id="containerGrafico" class="p-6 border-t hidden">
						<h4 class="font-bold text-gray-700 mb-4">Visualização Gráfica</h4>
						<div id="graficoRelatorio" class="h-64"></div>
					</div>
				</div>
			</div>
		</div>

		<!-- ABA: PARAMETRIZAÇÃO -->
		<div id="parametrizacaoTab" class="tab-content">
			<div class="bg-white rounded-xl shadow-sm border border-gray-200 min-h-[600px] flex flex-col md:flex-row overflow-hidden">
				<!-- Sidebar Params -->
				<div class="w-full md:w-64 bg-gray-50 border-r border-gray-200 p-4">
					<h3 class="font-bold text-gray-700 mb-4 px-2">Regimes</h3>
					<div class="space-y-1">
						<button class="sub-tab-button w-full text-left px-4 py-2 rounded-lg text-sm font-medium bg-white shadow-sm text-brand-700" data-subtab="simples">Simples Nacional</button>
						<button class="sub-tab-button w-full text-left px-4 py-2 rounded-lg text-sm font-medium text-gray-600 hover:bg-white" data-subtab="presumido">Lucro Presumido</button>
						<button class="sub-tab-button w-full text-left px-4 py-2 rounded-lg text-sm font-medium text-gray-600 hover:bg-white" data-subtab="real">Lucro Real</button>
					</div>
				</div>
				
				<!-- Content Params -->
				<div class="flex-1 p-6 overflow-y-auto">
					<!-- SIMPLES NACIONAL -->
					<div id="simplesTab" class="sub-tab-content active">
						<div class="flex justify-between items-center mb-6">
							<h3 class="font-bold text-lg">Parametrização Simples Nacional</h3>
							<button id="novaFaixaSimples" class="text-sm bg-brand-600 text-white px-3 py-1.5 rounded hover:bg-brand-700">
								<i class="fas fa-plus mr-1"></i> Nova Faixa
							</button>
						</div>
						
						<!-- Formulário Oculto Inicialmente -->
						<div id="containerFormFaixaSimples" class="hidden bg-gray-50 p-6 rounded-xl border border-gray-200 mb-6">
							<h4 class="font-bold text-gray-800 mb-4">Cadastrar Nova Faixa</h4>
							<form id="formFaixaSimples" class="space-y-4">
								<input type="hidden" id="faixaId">
								
								<div class="grid grid-cols-1 md:grid-cols-2 gap-4">
									<div>
										<label class="block text-xs font-bold text-gray-700 mb-1">Anexo</label>
										<select id="faixaAnexo" class="w-full border border-gray-300 rounded-lg p-2.5 text-sm" required>
											<option value="">Selecione o Anexo</option>
											<option value="I">Anexo I - Comércio</option>
											<option value="II">Anexo II - Indústria</option>
											<option value="III">Anexo III - Serviços</option>
											<option value="IV">Anexo IV - Serviços (+)</option>
											<option value="V">Anexo V - Serviços (++)</option>
										</select>
									</div>
									<div>
										<label class="block text-xs font-bold text-gray-700 mb-1">Vigência a partir de</label>
										<input type="month" id="faixaVigencia" class="w-full border border-gray-300 rounded-lg p-2.5 text-sm" required>
										<p class="text-xs text-gray-500 mt-1">Mês/Ano a partir do qual esta faixa é válida</p>
									</div>
								</div>

								<div class="grid grid-cols-1 md:grid-cols-2 gap-4">
									<div>
										<label class="block text-xs font-bold text-gray-700 mb-1">Nome da Faixa</label>
										<input type="text" id="faixaNome" class="w-full border border-gray-300 rounded-lg p-2.5 text-sm" placeholder="Ex: Faixa 1 - Até R$ 180.000,00" required>
									</div>
									<div>
										<label class="block text-xs font-bold text-gray-700 mb-1">Alíquota Nominal (%)</label>
										<input type="number" id="faixaAliquota" step="0.01" min="0" max="100" class="w-full border border-gray-300 rounded-lg p-2.5 text-sm" required>
									</div>
								</div>

								<div class="grid grid-cols-1 md:grid-cols-3 gap-4">
									<div>
										<label class="block text-xs font-bold text-gray-700 mb-1">RBT Início (R$)</label>
										<input type="number" id="faixaInicio" step="0.01" min="0" class="w-full border border-gray-300 rounded-lg p-2.5 text-sm" required>
									</div>
									<div>
										<label class="block text-xs font-bold text-gray-700 mb-1">RBT Fim (R$)</label>
										<input type="number" id="faixaFim" step="0.01" min="0" class="w-full border border-gray-300 rounded-lg p-2.5 text-sm" required>
									</div>
									<div>
										<label class="block text-xs font-bold text-gray-700 mb-1">Valor a Deduzir (R$)</label>
										<input type="number" id="faixaDeduzir" step="0.01" min="0" class="w-full border border-gray-300 rounded-lg p-2.5 text-sm" required>
									</div>
								</div>

								<!-- REPARTIÇÃO DOS TRIBUTOS -->
								<div class="pt-4 border-t border-gray-300">
									<h5 class="text-sm font-bold text-gray-700 mb-3">Repartição dos Tributos (%)</h5>
									<p class="text-xs text-gray-500 mb-4">Informe a porcentagem de cada tributo na alíquota efetiva (soma deve ser 100%)</p>
									
									<div class="grid grid-cols-2 md:grid-cols-3 lg:grid-cols-5 gap-3">
										<div>
											<label class="block text-xs font-bold text-gray-700 mb-1">IRPJ</label>
											<input type="number" id="repIRPJ" step="0.01" min="0" max="100" class="w-full border border-gray-300 rounded-lg p-2 text-sm" value="0">
										</div>
										<div>
											<label class="block text-xs font-bold text-gray-700 mb-1">CSLL</label>
											<input type="number" id="repCSLL" step="0.01" min="0" max="100" class="w-full border border-gray-300 rounded-lg p-2 text-sm" value="0">
										</div>
										<div>
											<label class="block text-xs font-bold text-gray-700 mb-1">COFINS</label>
											<input type="number" id="repCOFINS" step="0.01" min="0" max="100" class="w-full border border-gray-300 rounded-lg p-2 text-sm" value="0">
										</div>
										<div>
											<label class="block text-xs font-bold text-gray-700 mb-1">PIS/PASEP</label>
											<input type="number" id="repPIS" step="0.01" min="0" max="100" class="w-full border border-gray-300 rounded-lg p-2 text-sm" value="0">
										</div>
										<div>
											<label class="block text-xs font-bold text-gray-700 mb-1">CPP/INSS</label>
											<input type="number" id="repCPP" step="0.01" min="0" max="100" class="w-full border border-gray-300 rounded-lg p-2 text-sm" value="0">
										</div>
										<div>
											<label class="block text-xs font-bold text-gray-700 mb-1">ICMS</label>
											<input type="number" id="repICMS" step="0.01" min="0" max="100" class="w-full border border-gray-300 rounded-lg p-2 text-sm" value="0">
										</div>
										<div>
											<label class="block text-xs font-bold text-gray-700 mb-1">ISS</label>
											<input type="number" id="repISS" step="0.01" min="0" max="100" class="w-full border border-gray-300 rounded-lg p-2 text-sm" value="0">
										</div>
										<div>
											<label class="block text-xs font-bold text-gray-700 mb-1">IPI</label>
											<input type="number" id="repIPI" step="0.01" min="0" max="100" class="w-full border border-gray-300 rounded-lg p-2 text-sm" value="0">
										</div>										
									</div>
									<div class="mt-2 flex justify-between items-center">
										<span id="somaReparticao" class="text-xs font-bold">Soma: 0%</span>
										<span id="statusReparticao" class="text-xs hidden"></span>
									</div>
								</div>

								<div class="flex justify-end gap-2 pt-4">
									<button type="button" id="cancelarFaixaSimples" class="px-4 py-2 bg-gray-200 hover:bg-gray-300 text-gray-800 rounded-lg font-medium transition">
										Cancelar
									</button>
									<button type="submit" class="bg-green-600 text-white px-6 py-2 rounded-lg text-sm font-medium hover:bg-green-700 transition">
										Salvar Faixa
									</button>
								</div>
							</form>
						</div>

						<div id="listaFaixasSimples" class="space-y-6"></div>
					</div>

					<!-- LUCRO PRESUMIDO -->
					<div id="presumidoTab" class="sub-tab-content hidden">
						<div class="flex justify-between items-center mb-6">
							<h3 class="font-bold text-lg">Parametrização Lucro Presumido</h3>
							<button id="novaConfigPresumido" class="text-sm bg-brand-600 text-white px-3 py-1.5 rounded hover:bg-brand-700">
								<i class="fas fa-plus mr-1"></i> Nova Configuração
							</button>
						</div>
						
						<!-- Formulário Oculto Inicialmente -->
						<div id="containerFormPresumido" class="hidden bg-gray-50 p-6 rounded-xl border border-gray-200 mb-6">
							<h4 class="font-bold text-gray-800 mb-4">Cadastrar Configuração</h4>
							<form id="formPresumido" class="space-y-4">
								<input type="hidden" id="configPresumidoId">
								
								<div class="grid grid-cols-1 md:grid-cols-2 gap-4">
									<div>
										<label class="block text-xs font-bold text-gray-700 mb-1">Vigência a partir de</label>
										<input type="month" id="presumidoVigencia" class="w-full border border-gray-300 rounded-lg p-2.5 text-sm" required>
										<p class="text-xs text-gray-500 mt-1">Mês/Ano a partir do qual esta configuração é válida</p>
									</div>
									<div>
										<label class="block text-xs font-bold text-gray-700 mb-1">Nome da Configuração</label>
										<input type="text" id="presumidoNome" class="w-full border border-gray-300 rounded-lg p-2.5 text-sm" placeholder="Ex: Serviços Gerais" required>
									</div>
								</div>
								
								<div class="grid grid-cols-1 md:grid-cols-2 gap-4">
									<div>
										<label class="block text-xs font-bold text-gray-700 mb-1">Atividade (Opcional)</label>
										<input type="text" id="presumidoAtividade" class="w-full border border-gray-300 rounded-lg p-2.5 text-sm" placeholder="Ex: Consultoria">
									</div>
									<div>
										<label class="block text-xs font-bold text-gray-700 mb-1">Tipo de Presunção</label>
										<select id="presumidoTipo" class="w-full border border-gray-300 rounded-lg p-2.5 text-sm">
											<option value="servicos">Serviços</option>
											<option value="comercio">Comércio</option>
											<option value="industria">Indústria</option>
											<option value="outros">Outros</option>
										</select>
									</div>
								</div>
								
								<!-- Alíquotas do Lucro Presumido -->
								<div class="pt-4 border-t border-gray-300">
									<h5 class="text-sm font-bold text-gray-700 mb-3">Alíquotas do Lucro Presumido (%)</h5>
									
									<div class="grid grid-cols-1 md:grid-cols-3 gap-4">
										<div>
											<label class="block text-xs font-bold text-gray-700 mb-1">Presunção IRPJ (%)</label>
											<input type="number" id="presumidoPresuncaoIRPJ" step="0.01" min="0" max="100" class="w-full border border-gray-300 rounded-lg p-2.5 text-sm" placeholder="8, 32 ou outro" required>
										</div>
										<div>
											<label class="block text-xs font-bold text-gray-700 mb-1">Alíquota IRPJ (%)</label>
											<input type="number" id="presumidoAliquotaIRPJ" step="0.01" min="0" max="100" class="w-full border border-gray-300 rounded-lg p-2.5 text-sm" placeholder="15" required>
										</div>
										<div>
											<label class="block text-xs font-bold text-gray-700 mb-1">Adicional IRPJ (> R$ 20k/mês) (%)</label>
											<input type="number" id="presumidoAdicionalIRPJ" step="0.01" min="0" max="100" class="w-full border border-gray-300 rounded-lg p-2.5 text-sm" placeholder="10" required>
										</div>
										<div>
											<label class="block text-xs font-bold text-gray-700 mb-1">Presunção CSLL (%)</label>
											<input type="number" id="presuncaoCSLL" step="0.01" min="0" max="100" class="w-full border border-gray-300 rounded-lg p-2.5 text-sm" placeholder="12 ou 32" required>
										</div>
										<div>
											<label class="block text-xs font-bold text-gray-700 mb-1">Alíquota CSLL (%)</label>
											<input type="number" id="presumidoAliquotaCSLL" step="0.01" min="0" max="100" class="w-full border border-gray-300 rounded-lg p-2.5 text-sm" placeholder="9" required>
										</div>
										<div>
											<label class="block text-xs font-bold text-gray-700 mb-1">PIS/COFINS (%)</label>
											<input type="number" id="presumidoPISCOFINS" step="0.01" min="0" max="100" class="w-full border border-gray-300 rounded-lg p-2.5 text-sm" placeholder="3,65" required>
										</div>
									</div>
								</div>
								
								<!-- Outros Parâmetros -->
								<div class="grid grid-cols-1 md:grid-cols-2 gap-4">
									<div>
										<label class="block text-xs font-bold text-gray-700 mb-1">Alíquota ISS (%)</label>
										<input type="number" id="presumidoISS" step="0.01" min="0" max="100" class="w-full border border-gray-300 rounded-lg p-2.5 text-sm" placeholder="5" required>
									</div>
									<div>
										<label class="block text-xs font-bold text-gray-700 mb-1">Alíquota ICMS (%)</label>
										<input type="number" id="presumidoICMS" step="0.01" min="0" max="100" class="w-full border border-gray-300 rounded-lg p-2.5 text-sm" placeholder="18" required>
									</div>
								</div>
								
								<div class="flex justify-end gap-2 pt-4">
									<button type="button" id="cancelarPresumido" class="px-4 py-2 bg-gray-200 hover:bg-gray-300 text-gray-800 rounded-lg font-medium transition">
										Cancelar
									</button>
									<button type="submit" class="bg-blue-600 text-white px-6 py-2 rounded-lg text-sm font-medium hover:bg-blue-700 transition">
										Salvar Configuração
									</button>
								</div>
							</form>
						</div>

						<div id="listaConfigsPresumido" class="space-y-6"></div>
					</div>

					<!-- LUCRO REAL -->
					<div id="realTab" class="sub-tab-content hidden">
						<div class="flex justify-between items-center mb-6">
							<h3 class="font-bold text-lg">Parametrização Lucro Real</h3>
							<button id="novaConfigReal" class="text-sm bg-brand-600 text-white px-3 py-1.5 rounded hover:bg-brand-700">
								<i class="fas fa-plus mr-1"></i> Nova Configuração
							</button>
						</div>
						
						<!-- Formulário Oculto Inicialmente -->
						<div id="containerFormReal" class="hidden bg-gray-50 p-6 rounded-xl border border-gray-200 mb-6">
							<h4 class="font-bold text-gray-800 mb-4">Cadastrar Configuração</h4>
							<form id="formReal" class="space-y-4">
								<input type="hidden" id="configRealId">
								
								<div class="grid grid-cols-1 md:grid-cols-2 gap-4">
									<div>
										<label class="block text-xs font-bold text-gray-700 mb-1">Vigência a partir de</label>
										<input type="month" id="realVigencia" class="w-full border border-gray-300 rounded-lg p-2.5 text-sm" required>
										<p class="text-xs text-gray-500 mt-1">Mês/Ano a partir do qual esta configuração é válida</p>
									</div>
									<div>
										<label class="block text-xs font-bold text-gray-700 mb-1">Nome da Configuração</label>
										<input type="text" id="realNome" class="w-full border border-gray-300 rounded-lg p-2.5 text-sm" placeholder="Ex: Industrial Geral" required>
									</div>
								</div>
								
								<div class="grid grid-cols-1 md:grid-cols-2 gap-4">
									<div>
										<label class="block text-xs font-bold text-gray-700 mb-1">Atividade (Opcional)</label>
										<input type="text" id="realAtividade" class="w-full border border-gray-300 rounded-lg p-2.5 text-sm" placeholder="Ex: Indústria">
									</div>
									<div>
										<label class="block text-xs font-bold text-gray-700 mb-1">Tipo de Empresa</label>
										<select id="realTipo" class="w-full border border-gray-300 rounded-lg p-2.5 text-sm">
											<option value="geral">Geral</option>
											<option value="comercial">Comercial</option>
											<option value="industrial">Industrial</option>
											<option value="servicos">Serviços</option>
											<option value="financeiro">Financeiro</option>
										</select>
									</div>
								</div>
								
								<!-- Alíquotas do Lucro Real -->
								<div class="pt-4 border-t border-gray-300">
									<h5 class="text-sm font-bold text-gray-700 mb-3">Alíquotas do Lucro Real (%)</h5>
									
									<div class="grid grid-cols-1 md:grid-cols-3 gap-4">
										<div>
											<label class="block text-xs font-bold text-gray-700 mb-1">Alíquota IRPJ (%)</label>
											<input type="number" id="realAliquotaIRPJ" step="0.01" min="0" max="100" class="w-full border border-gray-300 rounded-lg p-2.5 text-sm" placeholder="15" required>
										</div>
										<div>
											<label class="block text-xs font-bold text-gray-700 mb-1">Adicional IRPJ (> R$ 20k/mês) (%)</label>
											<input type="number" id="realAdicionalIRPJ" step="0.01" min="0" max="100" class="w-full border border-gray-300 rounded-lg p-2.5 text-sm" placeholder="10" required>
										</div>
										<div>
											<label class="block text-xs font-bold text-gray-700 mb-1">Alíquota CSLL (%)</label>
											<input type="number" id="realAliquotaCSLL" step="0.01" min="0" max="100" class="w-full border border-gray-300 rounded-lg p-2.5 text-sm" placeholder="9" required>
										</div>
										<div>
											<label class="block text-xs font-bold text-gray-700 mb-1">PIS (%)</label>
											<input type="number" id="realPIS" step="0.01" min="0" max="100" class="w-full border border-gray-300 rounded-lg p-2.5 text-sm" placeholder="1,65" required>
										</div>
										<div>
											<label class="block text-xs font-bold text-gray-700 mb-1">COFINS (%)</label>
											<input type="number" id="realCOFINS" step="0.01" min="0" max="100" class="w-full border border-gray-300 rounded-lg p-2.5 text-sm" placeholder="7,6" required>
										</div>
										<div>
											<label class="block text-xs font-bold text-gray-700 mb-1">CSLL Adicional (%)</label>
											<input type="number" id="realCSLLAdicional" step="0.01" min="0" max="100" class="w-full border border-gray-300 rounded-lg p-2.5 text-sm" placeholder="10">
										</div>
									</div>
								</div>
								
								<!-- Outros Parâmetros -->
								<div class="grid grid-cols-1 md:grid-cols-2 gap-4">
									<div>
										<label class="block text-xs font-bold text-gray-700 mb-1">Alíquota ISS (%)</label>
										<input type="number" id="realISS" step="0.01" min="0" max="100" class="w-full border border-gray-300 rounded-lg p-2.5 text-sm" placeholder="5" required>
									</div>
									<div>
										<label class="block text-xs font-bold text-gray-700 mb-1">Alíquota ICMS (%)</label>
										<input type="number" id="realICMS" step="0.01" min="0" max="100" class="w-full border border-gray-300 rounded-lg p-2.5 text-sm" placeholder="18" required>
									</div>
								</div>
								
								<!-- Deduções e Isenções -->
								<div class="pt-4 border-t border-gray-300">
									<h5 class="text-sm font-bold text-gray-700 mb-3">Deduções e Isenções (R$)</h5>
									<div class="grid grid-cols-1 md:grid-cols-3 gap-4">
										<div>
											<label class="block text-xs font-bold text-gray-700 mb-1">Base de Isenção IRPJ</label>
											<input type="number" id="realIsencaoIRPJ" step="0.01" min="0" class="w-full border border-gray-300 rounded-lg p-2.5 text-sm" placeholder="20.000,00">
										</div>
										<div>
											<label class="block text-xs font-bold text-gray-700 mb-1">Base de Isenção CSLL</label>
											<input type="number" id="realIsencaoCSLL" step="0.01" min="0" class="w-full border border-gray-300 rounded-lg p-2.5 text-sm" placeholder="240.000,00">
										</div>
										<div>
											<label class="block text-xs font-bold text-gray-700 mb-1">Limite Adicional</label>
											<input type="number" id="realLimiteAdicional" step="0.01" min="0" class="w-full border border-gray-300 rounded-lg p-2.5 text-sm" placeholder="20.000,00">
										</div>
									</div>
								</div>
								
								<div class="flex justify-end gap-2 pt-4">
									<button type="button" id="cancelarReal" class="px-4 py-2 bg-gray-200 hover:bg-gray-300 text-gray-800 rounded-lg font-medium transition">
										Cancelar
									</button>
									<button type="submit" class="bg-purple-600 text-white px-6 py-2 rounded-lg text-sm font-medium hover:bg-purple-700 transition">
										Salvar Configuração
									</button>
								</div>
							</form>
						</div>

						<div id="listaConfigsReal" class="space-y-6"></div>
					</div>
				</div>
			</div>
		</div>

    </main>

    <!-- Modal de Confirmação -->
    <div id="confirmModal" class="fixed inset-0 bg-black/60 hidden items-center justify-center z-50 backdrop-blur-sm">
        <div class="bg-white rounded-xl shadow-2xl w-full max-w-sm p-6 text-center transform transition-all scale-100">
            <div class="mx-auto flex items-center justify-center h-12 w-12 rounded-full bg-yellow-100 mb-4">
                <i class="fas fa-triangle-exclamation text-yellow-600 text-xl"></i>
            </div>
            <h3 class="text-lg font-bold text-gray-900 mb-2" id="modalTitle">Atenção</h3>
            <p class="text-sm text-gray-600" id="modalMessage">Mensagem aqui</p>
            <div class="mt-6 flex justify-center gap-3">
                <button id="modalCancel" class="px-4 py-2 bg-white text-gray-700 border border-gray-300 rounded-lg hover:bg-gray-50 font-medium transition">Cancelar</button>
                <button id="modalConfirm" class="px-4 py-2 bg-brand-600 text-white rounded-lg hover:bg-brand-700 font-medium shadow-sm transition">Confirmar</button>
            </div>
        </div>
    </div>
    
    <!-- Toast Container -->
    <div id="toast-container" class="fixed top-5 right-5 z-50 flex flex-col gap-2"></div>

    <!-- Botões de Backup/Limpeza no Footer -->
    <footer class="container mx-auto px-4 mt-8 pt-4 border-t border-gray-200 flex flex-wrap gap-3 justify-center">
        <button id="exportarDados" class="bg-gray-700 hover:bg-gray-800 text-white px-4 py-2 rounded-lg text-sm font-medium transition flex items-center gap-2">
             <i class="fas fa-file-export"></i> Exportar Tudo (Backup)
        </button>
        <button id="importarDadosBtn" class="bg-gray-200 hover:bg-gray-300 text-gray-800 px-4 py-2 rounded-lg text-sm font-medium transition flex items-center gap-2">
             <i class="fas fa-file-import"></i> Importar Dados
        </button>
        <button id="limparTudo" class="bg-red-500 hover:bg-red-600 text-white px-4 py-2 rounded-lg text-sm font-medium transition flex items-center gap-2">
             <i class="fas fa-trash-alt"></i> Limpar Tudo
        </button>
		<button class="btn-secondary" id="resetarDados" onclick="resetarDadosClientes()">
			<i class="fas fa-redo-alt"></i> Resetar Dados
		</button>
    </footer>

    <!-- Input oculto para importação -->
    <input type="file" id="fileImport" class="hidden" accept=".json">

 <script src="app.js"></script>
</body>
</html>